# 索引
MySQL 使用索引快速查找具有特定列值的行。如果没有索引，MySQL 必须扫描整个表以找到相关的行。较大的表，搜索速度越慢

## 索引的分类
- 主键索引：在数据表的主键字段创建的索引，这个字段必须被 primary key 修饰，每张表只能有一个主键
- 唯一索引：在数据表中的唯一列创建的索引（unique），此列的所有值只能出现一次，可以为 NULL
- 普通索引：在普通字段上创建的索引，没有唯一性限制
- 组合索引：两个及以上字段联合起来创建的索引

### 说明
- 在创建数据表时，将字段声明为主键（添加主键约束），会自动在主键字段创建主键索引
- 在创建数据表时，将字段声明为唯一键（添加唯一约束），会自动在唯一字段创建唯一索引

## 创建索引

### 创建唯一索引
``` sql
-- 创建唯一索引的值不能重复
-- 语法：create unique index <index_name> on 表明（列明）;
create unique index index_test1 on tb_testindex(tid);
```

### 创建普通索引
``` sql
create index index_test2 on tb_testindex(name);
```

### 创建组合索引
``` sql
create index index_test3 on tb_testindex(tid,name);
```

## 索引的使用
- 索引创建完成之后无需调用，当根据创建索引的列进行数据查询的时候，会自动使用索引
- 组合索引需要根据创建索引的所有字段进行查询时触发

## 查看索引
``` sql
show indexs from tb_testindex;
show keys from tb_testindex;
```

## 删除索引
``` sql
drop index index_test3 on tb_testindex;
```

## 索引的使用总结

### 优点
- 索引大大降低了数据库服务器在执行查询操作时扫描的数据，提高查询效率
- 索引可以避免服务器排序，将随机IO编程顺序IO

### 缺点
- 索引是根据数据表列的创建的，当数据表中数据发生 DML 操作时，所有页需要更新
- 索引文件也会占用磁盘空间

## 注意事项
- 数据表中数据不多时，全表扫描可能更快，不用使用索引
- 数据量很大但是 DML 操作很频繁时，不建议使用索引
- 不要在数据重读高的列上使用索引（性别）
- 创建索引之后，要注意查询 SQL 语句的编写，避免索引失效
